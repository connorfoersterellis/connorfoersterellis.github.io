{"ast":null,"code":"import React, { useRef, useCallback, useEffect } from 'react';\nvar randomNumBetween = function (min, max) {\n  return Math.random() * (max - min) + min;\n};\nvar hexToRgb = function (hex) {\n  var r = parseInt(hex.slice(1, 3), 16);\n  var g = parseInt(hex.slice(3, 5), 16);\n  var b = parseInt(hex.slice(5, 7), 16);\n  return {\n    r: r,\n    g: g,\n    b: b\n  };\n};\nvar Particle = /** @class */function () {\n  function Particle(x, y, deg, colors, shapes, shapeSize, spread, launchSpeed, opacityDelta) {\n    if (deg === void 0) {\n      deg = 0;\n    }\n    if (shapes === void 0) {\n      shapes = ['circle', 'square'];\n    }\n    if (shapeSize === void 0) {\n      shapeSize = 12;\n    }\n    if (spread === void 0) {\n      spread = 30;\n    }\n    if (launchSpeed === void 0) {\n      launchSpeed = 1;\n    }\n    if (opacityDelta === void 0) {\n      opacityDelta = 0.004;\n    }\n    var DPR = window.devicePixelRatio > 1 ? 2 : 1;\n    this.x = x * window.innerWidth * DPR;\n    this.y = y * window.innerHeight * DPR;\n    this.width = shapeSize;\n    this.height = shapeSize;\n    this.theta = Math.PI / 180 * randomNumBetween(deg - spread, deg + spread);\n    this.radius = randomNumBetween(20 * launchSpeed, 70 * launchSpeed);\n    this.vx = this.radius * Math.cos(this.theta);\n    this.vy = this.radius * Math.sin(this.theta);\n    this.xFriction = 0.9;\n    this.yFriction = 0.87;\n    this.gravity = randomNumBetween(0.5, 0.6);\n    this.opacity = 1;\n    this.opacityDelta = opacityDelta;\n    this.rotate = randomNumBetween(0, 360);\n    this.widthDelta = randomNumBetween(0, 360);\n    this.heightDelta = randomNumBetween(0, 360);\n    this.rotateDelta = randomNumBetween(-1, 1);\n    this.colors = colors;\n    this.color = hexToRgb(this.colors[Math.floor(randomNumBetween(0, this.colors.length))]);\n    this.shapes = shapes;\n    this.shape = this.shapes[Math.floor(randomNumBetween(0, this.shapes.length))];\n    this.swingOffset = randomNumBetween(0, Math.PI * 2);\n    this.swingSpeed = Math.random() * 0.05 + 0.01;\n    this.swingAmplitude = randomNumBetween(0.1, 0.2);\n  }\n  Particle.prototype.update = function () {\n    this.vx *= this.xFriction;\n    this.vy *= this.yFriction;\n    this.vy += this.gravity;\n    this.vx += Math.sin(this.swingOffset) * this.swingAmplitude;\n    this.x += this.vx;\n    this.y += this.vy;\n    this.opacity -= this.opacityDelta;\n    this.widthDelta += 2;\n    this.heightDelta += 2;\n    this.rotate += this.rotateDelta;\n    this.swingOffset += this.swingSpeed;\n  };\n  Particle.prototype.drawSquare = function (ctx) {\n    ctx.fillRect(this.x, this.y, this.width * Math.cos(Math.PI / 180 * this.widthDelta), this.height * Math.sin(Math.PI / 180 * this.heightDelta));\n  };\n  Particle.prototype.drawCircle = function (ctx) {\n    ctx.beginPath();\n    ctx.ellipse(this.x, this.y, Math.abs(this.width * Math.cos(Math.PI / 180 * this.widthDelta)) / 2, Math.abs(this.height * Math.sin(Math.PI / 180 * this.heightDelta)) / 2, 0, 0, 2 * Math.PI);\n    ctx.fill();\n    ctx.closePath();\n  };\n  Particle.prototype.draw = function (ctx) {\n    var translateXAlpha = this.width * 1.3;\n    var translateYAlpha = this.height * 1.3;\n    ctx.translate(this.x + translateXAlpha, this.y + translateYAlpha);\n    ctx.rotate(Math.PI / 100 * this.rotate);\n    ctx.translate(-(this.x + translateXAlpha), -(this.y + translateYAlpha));\n    // eslint-disable-next-line no-param-reassign\n    ctx.fillStyle = \"rgba(\".concat(this.color.r, \", \").concat(this.color.g, \", \").concat(this.color.b, \", \").concat(this.opacity, \")\");\n    if (this.shape === 'square') this.drawSquare(ctx);\n    if (this.shape === 'circle') this.drawCircle(ctx);\n    ctx.resetTransform();\n  };\n  return Particle;\n}();\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\nvar css_248z = \".index-module_canvas__H2w7d {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  pointer-events: none;\\n}\";\nvar styles = {\n  \"canvas\": \"index-module_canvas__H2w7d\"\n};\nstyleInject(css_248z);\nvar FPS = 60;\nvar INTERVAL = 1000 / FPS;\nfunction Confetti(props) {\n  // common props\n  var _a = props.mode,\n    mode = _a === void 0 ? 'boom' : _a,\n    _b = props.particleCount,\n    particleCount = _b === void 0 ? 30 : _b,\n    _c = props.shapeSize,\n    shapeSize = _c === void 0 ? 12 : _c,\n    _d = props.colors,\n    colors = _d === void 0 ? ['#ff577f', '#ff884b', '#ffd384', '#fff9b0'] : _d;\n  // boom props\n  var _e = props.mode === 'boom' ? props : {\n      effectInterval: 1,\n      effectCount: Infinity\n    },\n    _f = _e.x,\n    x = _f === void 0 ? 0.5 : _f,\n    _g = _e.y,\n    y = _g === void 0 ? 0.5 : _g,\n    _h = _e.deg,\n    deg = _h === void 0 ? 270 : _h,\n    _j = _e.spreadDeg,\n    spreadDeg = _j === void 0 ? 30 : _j,\n    _k = _e.effectInterval,\n    effectInterval = _k === void 0 ? 3000 : _k,\n    _l = _e.effectCount,\n    effectCount = _l === void 0 ? 1 : _l,\n    _m = _e.launchSpeed,\n    launchSpeed = _m === void 0 ? 1 : _m;\n  var canvasRef = useRef(null);\n  var ctxRef = useRef();\n  var particlesRef = useRef([]);\n  var animationFrameRef = useRef(0);\n  var effectCountRef = useRef(0);\n  var init = useCallback(function () {\n    var canvas = canvasRef.current;\n    var ctx = canvas === null || canvas === void 0 ? void 0 : canvas.getContext('2d');\n    if (!canvas || !ctx) return;\n    ctxRef.current = ctx;\n    var DPR = window.devicePixelRatio > 1 ? 2 : 1;\n    var canvasWidth = window.innerWidth;\n    var canvasHeight = window.innerHeight;\n    canvas.style.width = \"\".concat(canvasWidth, \"px\");\n    canvas.style.height = \"\".concat(canvasHeight, \"px\");\n    canvas.width = canvasWidth * DPR;\n    canvas.height = canvasHeight * DPR;\n    ctx.scale(DPR, DPR);\n  }, []);\n  var createConfetti = useCallback(function () {\n    var isFallMode = mode === 'fall';\n    var effectiveCount = isFallMode ? particleCount / 30 : particleCount;\n    var effectiveX = isFallMode ? randomNumBetween(0, 1) : x;\n    var effectiveY = isFallMode ? randomNumBetween(-0.1, -0.3) : y;\n    var effectiveDeg = isFallMode ? 270 : deg;\n    var effectiveSpreadDeg = isFallMode ? 0 : spreadDeg;\n    var effectiveLaunchSpeed = isFallMode ? 0 : launchSpeed;\n    var effectiveOpacityDelta = isFallMode ? 5 / window.innerHeight : 0.004;\n    for (var i = 0; i < effectiveCount; i += 1) {\n      particlesRef.current.push(new Particle(effectiveX, effectiveY, effectiveDeg, colors, ['circle', 'square'], shapeSize, effectiveSpreadDeg, effectiveLaunchSpeed, effectiveOpacityDelta));\n    }\n  }, [mode, x, y, deg, colors, shapeSize, spreadDeg, launchSpeed, particleCount]);\n  var render = useCallback(function () {\n    if (!ctxRef.current) return;\n    var now;\n    var delta;\n    var then = Date.now();\n    var effectDelta;\n    var effectThen = Date.now() - effectInterval;\n    var frame = function () {\n      var canvas = canvasRef.current;\n      if (!ctxRef.current) return;\n      if (!canvas) return;\n      animationFrameRef.current = requestAnimationFrame(frame);\n      now = Date.now();\n      delta = now - then;\n      effectDelta = now - effectThen;\n      if (delta < INTERVAL) return;\n      ctxRef.current.clearRect(0, 0, canvas.width, canvas.height);\n      if (effectDelta > effectInterval && effectCountRef.current < effectCount) {\n        createConfetti();\n        effectThen = now - effectDelta % effectInterval;\n        effectCountRef.current += 1;\n      }\n      var particles = particlesRef.current;\n      for (var i = particles.length - 1; i >= 0; i -= 1) {\n        var p = particles[i];\n        p.update();\n        p.draw(ctxRef.current);\n        var canvasHeight = (canvas === null || canvas === void 0 ? void 0 : canvas.height) || 0;\n        if (p.opacity <= 0 || p.y > canvasHeight) particles.splice(particles.indexOf(p), 1);\n      }\n      then = now - delta % INTERVAL;\n      if (effectCountRef.current >= effectCount && particles.length === 0) {\n        cancelAnimationFrame(animationFrameRef.current);\n      }\n    };\n    animationFrameRef.current = requestAnimationFrame(frame);\n  }, [effectInterval, effectCount, createConfetti]);\n  useEffect(function () {\n    init();\n    render();\n    return function () {\n      if (animationFrameRef.current) {\n        cancelAnimationFrame(animationFrameRef.current);\n      }\n    };\n  }, [init, render]);\n  useEffect(function () {\n    effectCountRef.current = 0;\n  }, [effectCount]);\n  return React.createElement(\"canvas\", {\n    className: styles.canvas,\n    ref: canvasRef\n  });\n}\nexport { Confetti as default };","map":{"version":3,"names":["styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode"],"sources":["D:\\Code\\Nodejs\\car-selector\\connorfoersterellis.github.io\\node_modules\\react-confetti-boom\\node_modules\\style-inject\\dist\\style-inject.es.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAASA,WAAWA,CAACC,GAAG,EAAEC,GAAG,EAAE;EAC7B,IAAKA,GAAG,KAAK,KAAK,CAAC,EAAGA,GAAG,GAAG,EAAE;EAC9B,IAAIC,QAAQ,GAAGD,GAAG,CAACC,QAAQ;EAE3B,IAAI,CAACF,GAAG,IAAI,OAAOG,QAAQ,KAAK,WAAW,EAAE;IAAE;EAAO;EAEtD,IAAIC,IAAI,GAAGD,QAAQ,CAACC,IAAI,IAAID,QAAQ,CAACE,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;EACpE,IAAIC,KAAK,GAAGH,QAAQ,CAACI,aAAa,CAAC,OAAO,CAAC;EAC3CD,KAAK,CAACE,IAAI,GAAG,UAAU;EAEvB,IAAIN,QAAQ,KAAK,KAAK,EAAE;IACtB,IAAIE,IAAI,CAACK,UAAU,EAAE;MACnBL,IAAI,CAACM,YAAY,CAACJ,KAAK,EAAEF,IAAI,CAACK,UAAU,CAAC;IAC/C,CAAK,MAAM;MACLL,IAAI,CAACO,WAAW,CAACL,KAAK,CAAC;IAC7B;EACA,CAAG,MAAM;IACLF,IAAI,CAACO,WAAW,CAACL,KAAK,CAAC;EAC3B;EAEE,IAAIA,KAAK,CAACM,UAAU,EAAE;IACpBN,KAAK,CAACM,UAAU,CAACC,OAAO,GAAGb,GAAG;EAClC,CAAG,MAAM;IACLM,KAAK,CAACK,WAAW,CAACR,QAAQ,CAACW,cAAc,CAACd,GAAG,CAAC,CAAC;EACnD;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}